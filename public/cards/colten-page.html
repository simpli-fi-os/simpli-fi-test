<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="robots" content="noindex, nofollow">
    <meta name="apple-mobile-web-app-title" content="Colten Page">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a237e">
    <link rel="manifest" href="manifest-colten-page.json">

    <meta property="og:title" content="Colten Page | Platinum Payment Systems">
    <meta property="og:description" content="Chief Sales Officer & Equity Partner at Platinum Payment Systems. Merchant processing solutions and business growth.">
    <meta property="og:image" content="../assets/images/contacts/colten-page.png">

    <title>Colten Page | Platinum Payment Systems</title>

    <link rel="apple-touch-icon" href="../favicon.png">
    <link rel="icon" type="image/png" href="../favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@0.294.0"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            primary: '#1a237e',   /* Deep Indigo */
                            accent: '#ffd700',    /* Gold */
                            pop: '#ffd700',
                            canvas: '#eef0f5',    /* Cool Gray Background */
                            surface: '#dfe2ea',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    boxShadow: {
                        'neu-flat': '9px 9px 18px #cfd1d8, -9px -9px 18px #ffffff',
                        'neu-pressed': 'inset 6px 6px 12px #cfd1d8, inset -6px -6px 12px #ffffff',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #eef0f5;
            overflow: hidden;
        }

        a, button { -webkit-tap-highlight-color: transparent; }

        #simple-view-container {
            position: fixed; inset: 0; z-index: 10;
            display: flex; align-items: center; justify-content: center;
            transition: opacity 0.5s ease; opacity: 1; pointer-events: auto; touch-action: none;
        }

        #full-view {
            position: fixed; inset: 0; z-index: 20; opacity: 0; pointer-events: none;
            transition: opacity 0.5s ease; display: flex; align-items: center; justify-content: center;
        }

        body.show-full #simple-view-container { opacity: 0; pointer-events: none; }
        body.show-full #full-view { opacity: 1; pointer-events: auto; }

        #card-wrapper { width: 650px; height: 370px; position: relative; transform-origin: center center; transition: transform 0.1s ease-out; }
        #main-card { transform-origin: top center; transition: transform 0.1s ease-out; }

        .toggle-btn {
            position: fixed; bottom: 24px; right: 24px; width: 56px; height: 56px;
            border-radius: 50%; background: #ffffff; border: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); display: flex; align-items: center;
            justify-content: center; z-index: 50; transition: all 0.2s ease; cursor: pointer; overflow: hidden;
        }
        .toggle-btn:active { transform: scale(0.95); }

        .fab-icon { position: absolute; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        #icon-plus { opacity: 1; transform: rotate(0deg) scale(1); }
        #icon-minus { opacity: 0; transform: rotate(-90deg) scale(0.5); }
        body.show-full #icon-plus { opacity: 0; transform: rotate(90deg) scale(0.5); }
        body.show-full #icon-minus { opacity: 1; transform: rotate(0deg) scale(1); }

        .dollar-bill {
            position: absolute; background-color: #85bb65; border: 1px solid #6da04e;
            width: 50px; height: 24px; border-radius: 2px; pointer-events: none; z-index: 0;
            display: flex; align-items: center; justify-content: center;
            color: #4a7036; font-family: monospace; font-weight: bold; font-size: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .dollar-bill::after { content: '$'; }

        .gold-coin {
            position: absolute; background-color: #ffd700; border: 2px solid #d4af00;
            border-radius: 50%; pointer-events: none; z-index: 0;
            box-shadow: inset -2px -2px 0px rgba(0,0,0,0.1);
        }
        .gold-coin::after {
            content: '$'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); color: #b37400; font-size: 12px; font-weight: bold;
        }

        #scroll-container {
            height: 100vh; overflow-y: auto; -webkit-overflow-scrolling: touch;
            position: relative; z-index: 10; padding-bottom: 120px;
        }
    </style>
</head>
<body class="fixed inset-0 bg-brand-canvas bg-[radial-gradient(#1a237e_1px,transparent_1px)] [background-size:24px_24px] opacity-[0.99]">

    <div id="physics-layer" class="absolute inset-0 pointer-events-none overflow-hidden z-0"></div>

    <!-- SIMPLE CARD VIEW -->
    <div id="simple-view-container">
        <div id="card-wrapper">
            <div class="w-full h-full bg-brand-canvas rounded-[2.5rem] shadow-neu-flat flex items-center justify-between border border-stone-300/50 overflow-hidden relative">

                <div class="flex flex-col justify-between h-full w-2/3 p-10">
                    <div class="flex items-center gap-5">
                        <div class="w-16 h-16 shrink-0 rounded-2xl bg-brand-surface shadow-neu-flat flex items-center justify-center text-brand-primary border border-white/20">
                            <span class="text-2xl font-bold font-serif text-brand-primary">CP</span>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold tracking-tight text-brand-primary leading-none">Plat<span class="text-brand-accent">Pay</span></h2>
                            <p class="text-[11px] text-brand-accent font-bold uppercase tracking-[0.15em] mt-1.5">Payment Solutions</p>
                        </div>
                    </div>

                    <div>
                        <h1 class="text-5xl font-black mb-1 text-brand-primary font-serif leading-none">Colten Page</h1>
                        <p class="text-brand-accent font-extrabold text-sm tracking-[0.2em] uppercase pl-1">Chief Sales Officer</p>
                    </div>

                    <div class="grid grid-cols-2 gap-3 w-full">
                        <a href="tel:8887528644" class="px-2 py-3.5 rounded-xl bg-brand-surface shadow-neu-pressed flex items-center justify-center gap-1.5 border border-transparent hover:border-brand-primary/10 transition-colors cursor-pointer group overflow-hidden min-w-0">
                            <i data-lucide="phone" class="w-3.5 h-3.5 text-brand-primary shrink-0"></i>
                            <span class="text-[11px] font-bold text-brand-primary truncate">(888) 752-8644</span>
                        </a>
                        <a href="mailto:colten@platpay.com" class="px-2 py-3.5 rounded-xl bg-brand-surface shadow-neu-pressed flex items-center justify-center gap-1.5 border border-transparent hover:border-brand-primary/10 transition-colors cursor-pointer group overflow-hidden min-w-0">
                            <i data-lucide="mail" class="w-3.5 h-3.5 text-brand-primary shrink-0"></i>
                            <span class="text-[11px] font-bold text-brand-primary truncate">colten@platpay.com</span>
                        </a>
                    </div>
                </div>

                <div class="w-1/3 h-full bg-brand-primary relative flex flex-col items-center justify-center pl-6 pr-4">
                    <div class="absolute inset-0 opacity-20 bg-[radial-gradient(#ffd700_1px,transparent_1px)] [background-size:14px_14px]"></div>

                    <div class="relative mb-6 group cursor-pointer z-20" onclick="toggleQR()">
                        <div class="w-48 h-48 rounded-full p-2.5 bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center shadow-2xl">
                            <div class="w-full h-full rounded-full overflow-hidden relative border-4 border-brand-accent">
                                <img src="../assets/images/contacts/colten-page.png" onerror="this.src='https://api.dicebear.com/7.x/avataaars/svg?seed=Colten&backgroundColor=1a237e'" alt="Colten Page" class="w-full h-full object-cover object-[50%_20%]">
                            </div>
                        </div>
                        <div class="absolute bottom-3 right-3 w-10 h-10 rounded-full bg-brand-accent shadow-lg flex items-center justify-center text-brand-primary border-2 border-white">
                            <i data-lucide="shield-check" class="w-5 h-5 stroke-[2.5]"></i>
                        </div>
                    </div>

                    <button onclick="downloadVCard()" class="w-full max-w-[180px] py-3.5 rounded-xl bg-black/20 backdrop-blur-md shadow-lg text-white font-extrabold text-xs uppercase tracking-wider hover:bg-brand-accent hover:text-brand-primary transition-all flex items-center justify-center gap-2 group z-20 border border-white/10">
                        <span>Save Contact</span>
                        <i data-lucide="arrow-down-to-line" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- FULL VIEW -->
    <div id="full-view">
        <div id="scroll-container" class="w-full flex justify-center p-4">

            <main id="main-card" class="w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden border border-brand-surface relative flex flex-col shrink-0 my-auto transition-transform duration-75 will-change-transform">

                <div class="h-32 bg-brand-primary relative overflow-hidden shrink-0">
                    <div class="absolute top-4 left-4 z-10 flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/20">
                            <span class="text-sm font-bold font-serif text-white">CP</span>
                        </div>
                        <span class="font-serif text-white font-bold tracking-tight text-sm opacity-90">Plat<span class="font-light text-brand-pop">Pay</span></span>
                    </div>

                    <button onclick="toggleQR()" aria-label="Show QR Code" class="absolute top-4 right-4 z-20 w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center text-white transition-all border border-white/10 shadow-lg group">
                        <i data-lucide="qr-code" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    </button>

                    <div class="absolute inset-0 opacity-20 bg-[radial-gradient(#ffd700_1px,transparent_1px)] [background-size:14px_14px]"></div>
                    <div class="absolute -bottom-8 -right-8 w-32 h-32 bg-brand-accent rounded-full opacity-30 blur-3xl"></div>
                    <div class="absolute top-0 right-10 w-24 h-24 bg-brand-pop rounded-full opacity-20 blur-2xl"></div>
                </div>

                <div class="relative px-8 -mt-16 mb-6 text-center shrink-0">
                    <div class="inline-block relative">
                        <div class="w-32 h-32 rounded-full border-4 border-white shadow-lg overflow-hidden bg-brand-surface mx-auto relative z-10">
                            <img id="profile-photo" src="../assets/images/contacts/colten-page.png" onerror="this.src='https://api.dicebear.com/7.x/avataaars/svg?seed=Colten&backgroundColor=1a237e'" alt="Colten Page" class="w-full h-full object-cover object-[50%_20%]">
                        </div>
                        <div class="absolute bottom-1 right-1 z-20 bg-brand-accent text-brand-primary rounded-full p-1.5 border-2 border-white shadow-sm">
                        <i data-lucide="shield-check" class="w-3 h-3 stroke-[4]"></i>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h1 class="font-serif text-3xl font-bold text-brand-primary">Colten Page</h1>
                        <p class="text-brand-accent font-bold text-xs tracking-widest uppercase mt-1">Chief Sales Officer & Equity Partner</p>
                        <p class="text-slate-400 text-xs mt-1">Platinum Payment Systems</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="grid grid-cols-5 gap-2 px-4 mb-6 shrink-0">
                    <a href="tel:8887528644" class="flex flex-col items-center gap-1 group">
                        <div class="w-12 h-12 rounded-2xl bg-brand-surface flex items-center justify-center text-slate-600 group-hover:bg-brand-primary group-hover:text-white transition shadow-sm border border-brand-surface">
                            <i data-lucide="phone" class="w-5 h-5"></i>
                        </div>
                        <span class="text-[10px] text-slate-500 font-medium">Call</span>
                    </a>
                    <a href="mailto:colten@platpay.com" class="flex flex-col items-center gap-1 group">
                        <div class="w-12 h-12 rounded-2xl bg-brand-surface flex items-center justify-center text-slate-600 group-hover:bg-brand-primary group-hover:text-white transition shadow-sm border border-brand-surface">
                            <i data-lucide="mail" class="w-5 h-5"></i>
                        </div>
                        <span class="text-[10px] text-slate-500 font-medium">Email</span>
                    </a>
                    <a href="https://www.platpay.com" target="_blank" class="flex flex-col items-center gap-1 group">
                        <div class="w-12 h-12 rounded-2xl bg-brand-surface flex items-center justify-center text-slate-600 group-hover:bg-brand-primary group-hover:text-white transition shadow-sm border border-brand-surface">
                            <i data-lucide="globe" class="w-5 h-5"></i>
                        </div>
                        <span class="text-[10px] text-slate-500 font-medium">Site</span>
                    </a>
                    <button id="save-btn" onclick="downloadVCard()" class="flex flex-col items-center gap-1 group">
                        <div class="w-12 h-12 rounded-2xl bg-brand-accent/10 flex items-center justify-center text-brand-primary group-hover:bg-brand-primary group-hover:text-brand-accent transition shadow-sm border border-brand-accent/20">
                            <i id="save-icon" data-lucide="contact" class="w-5 h-5"></i>
                            <i id="loading-icon" data-lucide="loader-2" class="w-5 h-5 animate-spin hidden"></i>
                        </div>
                        <span id="save-text" class="text-[10px] text-brand-primary font-bold">Save</span>
                    </button>
                </div>

                <div class="px-6 mb-6 shrink-0">
                    <div class="relative bg-gradient-to-r from-brand-primary/5 to-transparent p-4 rounded-xl border-l-4 border-brand-primary overflow-hidden">
                        <div class="absolute right-0 top-0 opacity-10 transform translate-x-1/4 -translate-y-1/4">
                            <i data-lucide="trending-up" class="w-24 h-24 text-brand-primary"></i>
                        </div>
                        <div class="relative z-10">
                            <div class="flex items-center gap-2 mb-1">
                                <i data-lucide="target" class="w-3 h-3 text-brand-primary"></i>
                                <h3 class="text-[10px] font-bold text-brand-primary uppercase tracking-widest">Current Mission</h3>
                            </div>
                            <p class="text-slate-700 text-sm font-medium italic leading-relaxed">
                                "Empowering businesses with innovative payment solutions and strategic partnerships to drive growth and streamline operations."
                            </p>
                        </div>
                    </div>
                </div>

                <div class="px-6 mb-6 shrink-0">
                    <h3 class="text-xs font-bold text-brand-accent uppercase tracking-wider mb-3">Highlights</h3>
                    <div class="space-y-2">
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle-2" class="w-4 h-4 text-brand-accent shrink-0 mt-0.5"></i>
                            <p class="text-xs text-slate-600"><strong class="text-brand-primary">Chief Sales Officer & Equity Partner</strong> at PlatPay</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle-2" class="w-4 h-4 text-brand-accent shrink-0 mt-0.5"></i>
                            <p class="text-xs text-slate-600"><strong class="text-brand-primary">Merchant Processing Solutions</strong> across US & Canada</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle-2" class="w-4 h-4 text-brand-accent shrink-0 mt-0.5"></i>
                            <p class="text-xs text-slate-600"><strong class="text-brand-primary">Background in Financial Advisory</strong> & Wealth Management</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle-2" class="w-4 h-4 text-brand-accent shrink-0 mt-0.5"></i>
                            <p class="text-xs text-slate-600"><strong class="text-brand-primary">Board of Advisors Member</strong></p>
                        </div>
                    </div>
                </div>

                <div class="px-8 mb-6 shrink-0">
                    <h3 class="text-xs font-bold text-brand-accent uppercase tracking-wider mb-2">About</h3>
                    <p class="text-slate-600 text-sm leading-relaxed font-light">
                        Colten Page is the Chief Sales Officer and Equity Partner at Platinum Payment Systems (PlatPay), where he leads sales strategy and business development for diverse merchant and business payment solutions. With a background spanning financial advisory, wealth management, and sales leadership, Colten brings a results-driven approach to helping businesses optimize their payment processing. His experience includes roles in financial consulting and entrepreneurship, supported by studies in Accounting and Finance at Utah Valley University.
                    </p>
                </div>

                <!-- Contact Details List -->
                <div class="px-6 mb-8 space-y-3 shrink-0">
                    <a href="tel:8887528644" class="flex items-center p-3 rounded-xl bg-brand-canvas hover:bg-brand-surface transition group">
                        <i data-lucide="smartphone" class="w-5 h-5 text-brand-primary group-hover:text-brand-accent transition"></i>
                        <div class="ml-4">
                            <p class="text-[10px] text-slate-400 uppercase tracking-wide">Office</p>
                            <p class="text-sm font-medium text-slate-900">(888) 752-8644</p>
                        </div>
                    </a>
                    <a href="mailto:colten@platpay.com" class="flex items-center p-3 rounded-xl bg-brand-canvas hover:bg-brand-surface transition group">
                        <i data-lucide="at-sign" class="w-5 h-5 text-brand-primary group-hover:text-brand-accent transition"></i>
                        <div class="ml-4">
                            <p class="text-[10px] text-slate-400 uppercase tracking-wide">Email</p>
                            <p class="text-sm font-medium text-slate-900">colten@platpay.com</p>
                        </div>
                    </a>
                </div>

                <div class="bg-brand-primary p-6 flex justify-center gap-6 border-t border-brand-primary mt-auto flex-wrap">
                    <a href="https://www.platpay.com" target="_blank" aria-label="Website" class="text-brand-accent hover:text-white transition transform hover:scale-110"><i data-lucide="globe" class="w-5 h-5"></i></a>
                    <a href="https://www.linkedin.com/company/platpay" target="_blank" aria-label="LinkedIn" class="text-brand-accent hover:text-white transition transform hover:scale-110"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                    <a href="https://www.facebook.com/platpay" target="_blank" aria-label="Facebook" class="text-brand-accent hover:text-white transition transform hover:scale-110"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                    <a href="https://www.instagram.com/platpay/" target="_blank" aria-label="Instagram" class="text-brand-accent hover:text-white transition transform hover:scale-110"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                    <a href="https://advisors.boardofadvisors.com/profile/colten+page" target="_blank" aria-label="BA Profile" class="text-brand-accent hover:text-white transition transform hover:scale-110"><i data-lucide="award" class="w-5 h-5"></i></a>
                </div>

                <a href="https://id.simpli-fi-os.com" target="_blank" class="block bg-slate-900 py-3 text-center relative group cursor-pointer overflow-hidden decoration-0">
                    <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition"></div>
                    <div class="inline-flex items-center text-[10px] font-bold tracking-[0.2em] text-white/40 uppercase">
                        <span class="mr-2 opacity-60">Powered by</span>
                        <span class="transition-all duration-300 group-hover:scale-110 group-hover:text-brand-accent flex items-center gap-1">
                            Simpli-FI <span class="text-brand-accent group-hover:text-white transition-colors duration-300">OS</span>
                        </span>
                    </div>
                </a>
            </main>
        </div>
    </div>

    <button id="toggle-view-btn" onclick="toggleView()" aria-label="Toggle View" class="toggle-btn">
        <i data-lucide="plus" id="icon-plus" class="fab-icon w-8 h-8 text-brand-primary"></i>
        <i data-lucide="minus" id="icon-minus" class="fab-icon w-8 h-8 text-brand-primary"></i>
    </button>

    <!-- Save Contact Toast -->
    <div id="saveToast" class="fixed top-0 left-0 right-0 z-[60] flex justify-center pointer-events-none" style="opacity:0; transform:translateY(-100%); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);">
        <div class="bg-white mx-4 mt-4 px-5 py-4 rounded-2xl shadow-2xl border border-amber-200 max-w-sm w-full pointer-events-auto">
            <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center shrink-0 mt-0.5">
                    <i data-lucide="arrow-down" class="w-4 h-4 text-amber-600"></i>
                </div>
                <div>
                    <p class="text-sm font-bold text-slate-800">Almost there!</p>
                    <p class="text-xs text-slate-500 mt-1 leading-relaxed">Scroll down and tap <strong class="text-amber-700">"Create New Contact"</strong> to finish saving.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- QR Modal -->
    <div id="qrModal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-brand-primary/90 backdrop-blur-sm transition-opacity duration-300" onclick="toggleQR()">
         <div class="bg-white p-6 rounded-3xl shadow-2xl max-w-sm w-full text-center relative transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">

            <div class="flex justify-between items-center mb-4">
                <span class="text-brand-primary font-serif font-bold italic">Colten Page</span>
                <button onclick="toggleQR()" class="text-slate-400 hover:text-brand-accent">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <div class="bg-brand-canvas p-4 rounded-xl border border-brand-surface mb-4 shadow-inner">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https://simpli-fi-id.web.app/cards/colten-page.html&color=1a237e" alt="Scan QR Code" class="w-full h-auto rounded-lg mix-blend-multiply">
            </div>

            <p class="text-slate-500 text-xs uppercase tracking-widest font-medium mb-3">Scan to Connect</p>

            <div class="bg-amber-50 border border-amber-200 rounded-xl p-3 text-left">
                <p class="text-xs text-amber-800 font-medium flex items-start gap-2">
                    <i data-lucide="info" class="w-4 h-4 shrink-0 mt-0.5 text-amber-500"></i>
                    <span>After scanning, tap <strong>Save Contact</strong> on the card, then scroll down and tap <strong>"Create New Contact"</strong> to save.</span>
                </p>
            </div>
         </div>
    </div>

    <script>
        lucide.createIcons();

        const container = document.getElementById('scroll-container');
        const card = document.getElementById('main-card');
        const physicsLayer = document.getElementById('physics-layer');
        let photoBase64 = '';
        const currentMission = "Empowering businesses with innovative payment solutions and strategic partnerships to drive growth and streamline operations.";

        let baseScale = 1;
        let userZoom = 1.0;
        let fullViewZoom = 1.0;

        const ZOOM_SENSITIVITY = 0.001;
        const MIN_ZOOM = 0.5;
        const MAX_ZOOM = 4.0;

        function resizeCard() {
            const availableWidth = window.innerWidth - 40;
            const availableHeight = window.innerHeight - 40;
            const cardWidth = 650;
            const cardHeight = 370;

            const scaleX = availableWidth / cardWidth;
            const scaleY = availableHeight / cardHeight;

            baseScale = Math.min(scaleX, scaleY, 1);
            updateTransform();
        }

        function updateTransform() {
            const wrapper = document.getElementById('card-wrapper');
            const totalScale = baseScale * userZoom;
            wrapper.style.transform = `scale(${totalScale})`;

            const mainCard = document.getElementById('main-card');
            mainCard.style.transform = `scale(${fullViewZoom})`;
        }

        const simpleViewContainer = document.getElementById('simple-view-container');

        simpleViewContainer.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = -e.deltaY * ZOOM_SENSITIVITY;
            userZoom = Math.min(Math.max(userZoom + delta, MIN_ZOOM), MAX_ZOOM);
            updateTransform();
        }, { passive: false });

        let initialPinchDistSimple = 0;
        let startZoomLevelSimple = 1;

        simpleViewContainer.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                e.preventDefault();
                initialPinchDistSimple = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
                startZoomLevelSimple = userZoom;
            }
        }, { passive: false });

        simpleViewContainer.addEventListener('touchmove', (e) => {
            if (e.touches.length === 2 && initialPinchDistSimple > 0) {
                e.preventDefault();
                const currentDist = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
                const ratio = currentDist / initialPinchDistSimple;
                userZoom = Math.min(Math.max(startZoomLevelSimple * ratio, MIN_ZOOM), MAX_ZOOM);
                updateTransform();
            }
        }, { passive: false });

        simpleViewContainer.addEventListener('touchend', () => { initialPinchDistSimple = 0; });

        container.addEventListener('wheel', (e) => {
            if (e.ctrlKey) {
                e.preventDefault();
                const delta = -e.deltaY * ZOOM_SENSITIVITY;
                fullViewZoom = Math.min(Math.max(fullViewZoom + delta, MIN_ZOOM), MAX_ZOOM);
                updateTransform();
            }
        }, { passive: false });

        let initialPinchDistFull = 0;
        let startZoomLevelFull = 1;
        let startY = 0;
        let pulling = false;
        let pullDirection = null;

        container.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                e.preventDefault();
                initialPinchDistFull = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
                startZoomLevelFull = fullViewZoom;
            } else if (e.touches.length === 1 && (container.scrollTop === 0 || container.scrollTop + container.clientHeight >= container.scrollHeight)) {
                startY = e.touches[0].pageY;
                pulling = true;
            }
        }, { passive: false });

        container.addEventListener('touchmove', (e) => {
            if (e.touches.length === 2 && initialPinchDistFull > 0) {
                e.preventDefault();
                const currentDist = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
                const ratio = currentDist / initialPinchDistFull;
                fullViewZoom = Math.min(Math.max(startZoomLevelFull * ratio, MIN_ZOOM), MAX_ZOOM);
                updateTransform();
            } else if (e.touches.length === 1 && pulling) {
                const y = e.touches[0].pageY;
                const delta = y - startY;

                if (delta > 0 && container.scrollTop <= 0) {
                    pullDirection = 'down';
                    e.preventDefault();
                    const resistance = 0.4;
                    const translate = delta * resistance;
                    card.style.transform = `translateY(${translate}px) scale(${fullViewZoom})`;
                    if (Math.random() < 0.25) spawnDollar(translate);
                } else if (delta < 0 && (container.scrollTop + container.clientHeight >= container.scrollHeight - 5)) {
                    pullDirection = 'up';
                    e.preventDefault();
                    const resistance = 0.4;
                    const translate = delta * resistance;
                    card.style.transform = `translateY(${translate}px) scale(${fullViewZoom})`;
                    if (Math.random() < 0.3) spawnCoin(Math.abs(translate));
                }
            }
        }, { passive: false });

        container.addEventListener('touchend', () => {
            initialPinchDistFull = 0;
            if (pulling) {
                pulling = false;
                pullDirection = null;
                card.style.transform = `scale(${fullViewZoom})`;
                setTimeout(() => { physicsLayer.innerHTML = ''; }, 800);
            }
        });

        function spawnDollar(offset) {
            const bill = document.createElement('div');
            bill.className = 'dollar-bill';
            const width = 40 + Math.random() * 20;
            bill.style.width = `${width}px`;
            bill.style.height = `${width * 0.4}px`;
            const x = Math.random() * window.innerWidth;
            bill.style.left = `${x}px`;
            bill.style.top = `-50px`;
            const rotation = Math.random() * 360;
            bill.style.transform = `rotate(${rotation}deg)`;
            physicsLayer.appendChild(bill);
            const duration = 500 + Math.random() * 500;
            const targetY = offset + 20 + (Math.random() * 80);
            bill.animate([{ top: '-50px', transform: `rotate(${rotation}deg)` }, { top: `${targetY}px`, transform: `rotate(${rotation + 180}deg)` }], { duration, easing: 'cubic-bezier(0.25, 1, 0.5, 1)', fill: 'forwards' });
        }

        function spawnCoin(offset) {
            const coin = document.createElement('div');
            coin.className = 'gold-coin';
            const size = 15 + Math.random() * 20;
            coin.style.width = `${size}px`;
            coin.style.height = `${size}px`;
            const x = Math.random() * window.innerWidth;
            coin.style.left = `${x}px`;
            coin.style.bottom = `-50px`;
            physicsLayer.appendChild(coin);
            const duration = 600 + Math.random() * 600;
            const targetY = offset + 20 + (Math.random() * 100);
            coin.animate([{ bottom: '-50px', transform: `translateY(0) scale(1)` }, { bottom: `${targetY}px`, transform: `translateY(0) scale(1)` }], { duration, easing: 'ease-out', fill: 'forwards' });
        }

        function toggleView() { document.body.classList.toggle('show-full'); }

        window.addEventListener('resize', resizeCard);
        window.addEventListener('load', resizeCard);

        window.addEventListener('load', async () => {
            const imgElement = document.getElementById('profile-photo');
            const imgSrc = imgElement.src;
            try {
                const response = await fetch(imgSrc);
                if (response.ok) {
                    const blob = await response.blob();
                    const reader = new FileReader();
                    reader.onloadend = () => { photoBase64 = reader.result.split(',')[1]; };
                    reader.readAsDataURL(blob);
                }
            } catch (e) { console.log("Image load error:", e); }
        });

        function toggleQR() { document.getElementById('qrModal').classList.toggle('hidden'); }

        function setLoading(isLoading) {
            const icon = document.getElementById('save-icon');
            const loader = document.getElementById('loading-icon');
            const text = document.getElementById('save-text');
            if (isLoading) { icon.classList.add('hidden'); loader.classList.remove('hidden'); text.innerText = "Saving..."; }
            else { icon.classList.remove('hidden'); loader.classList.add('hidden'); text.innerText = "Save"; }
        }

        function showSaveToast() {
            const toast = document.getElementById('saveToast');
            toast.style.opacity = '1';
            toast.style.transform = 'translateY(0)';
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateY(-100%)';
            }, 6000);
        }

        function downloadVCard() {
            setLoading(true);
            window.location.href = '/vcf/colten-page.vcf';
            setTimeout(() => {
                setLoading(false);
                showSaveToast();
            }, 800);
        }
    </script>
</body>
</html>
